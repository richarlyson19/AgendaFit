<!-- Modal de Confirmação de Exclusão -->
<div class="modal fade" id="modalConfirmacaoExclusao" tabindex="-1" aria-labelledby="modalConfirmacaoLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="modalConfirmacaoLabel">
                    <i class="bi bi-exclamation-triangle"></i> Confirmar Exclusão
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fechar"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-warning mb-3">
                    <i class="bi bi-exclamation-triangle-fill"></i>
                    <strong>Atenção!</strong> Esta ação não pode ser desfeita.
                </div>

                <p id="modalConfirmacaoMensagem" class="mb-0">
                    Tem certeza que deseja excluir este item?
                </p>

                <!-- Área para conteúdo adicional (opcional) -->
                <div id="modalConfirmacaoDetalhes" class="mt-3"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x-circle"></i> Cancelar
                </button>
                <form id="formConfirmacaoExclusao" method="POST" action="" class="d-inline">
                    <button type="submit" class="btn btn-danger">
                        <i class="bi bi-trash"></i> Confirmar Exclusão
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
/**
 * Função para abrir o modal de confirmação de exclusão
 * @param {Object} config - Configuração do modal
 * @param {string} config.url - URL de ação do formulário
 * @param {string} config.mensagem - Mensagem de confirmação
 * @param {string} config.detalhes - HTML com detalhes do item (opcional)
 */
function abrirModalConfirmacao(config) {
    const modal = document.getElementById('modalConfirmacaoExclusao');
    const form = document.getElementById('formConfirmacaoExclusao');
    const mensagem = document.getElementById('modalConfirmacaoMensagem');
    const detalhes = document.getElementById('modalConfirmacaoDetalhes');

    // Configura a URL de ação
    form.action = config.url;

    // Configura a mensagem
    mensagem.textContent = config.mensagem || 'Tem certeza que deseja excluir este item?';

    // Configura os detalhes (se fornecidos)
    if (config.detalhes) {
        detalhes.innerHTML = config.detalhes;
        detalhes.style.display = 'block';
    } else {
        detalhes.innerHTML = '';
        detalhes.style.display = 'none';
    }

    // Abre o modal
    const bsModal = new bootstrap.Modal(modal);
    bsModal.show();
}
</script>
